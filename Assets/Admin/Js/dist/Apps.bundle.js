"use strict";(self.webpackChunkreact_wordpress=self.webpackChunkreact_wordpress||[]).push([[551],{5705:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var n=a(4467),r=a(296),c=a(6540),s=a(3112),l=a(6968),u=a(5873),i=a(7733),p=a(2235),o=a(5419);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m=c.lazy((function(){return a.e(118).then(a.bind(a,2679))}));const v=function(){var e=c.useContext(s.ib),t=c.useState(!0),a=(0,r.A)(t,2),n=a[0],f=a[1],v=c.useContext(s.DC).appState,h=c.useState(""),g=(0,r.A)(h,2),y=(g[0],g[1]),b=c.useState({apps:[],search:""}),w=(0,r.A)(b,2),O=w[0],_=w[1],j=["1",1,"true",!0],E=function(e){var t={wlr_nonce:v.local.common.wlr_apps_nonce,action:"wlr_get_apps",search:(null==e?void 0:e.search)||O.search};f(!0),(0,l.MB)(t).then((function(e){var t=(0,o.xu)(e.data);!0===t.success&&null!==t.data&&t.data!=={}?_(d(d({},O),{},{apps:t.data.items})):!1===t.success&&null!==t.data&&alertify.error(t.data.message),f(!1)}))};c.useEffect((function(){E()}),[]);var x=function(e,t){var a={wlr_nonce:v.local.common.wlr_apps_nonce,plugin:e};a.action=j.includes(t)?"wlr_deactivate_plugin":"wlr_activate_plugin",f(!0),(0,l.MB)(a).then((function(t){var a=(0,o.xu)(t.data);!0===a.success&&null!==a.data&&a.data!=={}?(Object.keys(O.apps).map((function(t){var a=O.apps[t];a.plugin===e&&(a.is_active=j.includes(a.is_active)?0:1),O.apps[t]=a})),alertify.success(a.data.message)):!1===a.success&&null!==a.data&&alertify.error(a.data.message),E(),f(!1)}))},k=function(){y(O.search);var e={search:O.search};E(e)};return c.createElement("div",{className:"w-full h-full rounded-b-md flex flex-col px-8 py-5 bg-white  space-y-5"},c.createElement("div",{className:"w-full flex items-center justify-between"},c.createElement(u.A,{title:e.apps.name}),c.createElement("div",{className:"flex items-center space-x-3"},c.createElement(p.A,{placeHolder:e.apps.search_apps,value:O.value,onChange:function(e){_(d(d({},O),{},{search:e.target.value}))},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),k())},click:function(e){e.preventDefault(),k()}}))),c.createElement("div",{className:"flex  justify-start  space-y-2  w-full gap-4 "},n?c.createElement(i.A,{height:"h-113.5",dataHeight:"h-59.8",listData:1}):Object.keys(O.apps).length>0?c.createElement("div",{className:" grid grid-cols-3  gap-3 w-full"},Object.keys(O.apps).map((function(e,t){var a=O.apps[e];return c.createElement(c.Suspense,{key:t,fallback:c.createElement("div",null)},c.createElement(m,{key:t,app:a,index:t,actived_app:j,toggleActivatePlugin:x}))}))):c.createElement("div",{className:"flex items-center justify-center p-3 w-full text-sm h-149 "},"No apps found in search")))}}}]);